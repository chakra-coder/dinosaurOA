<title>流程模型列表</title>
<section class="content">
	<div class="row content border">
		<table class="table table-bordered table-striped table-hover table-condensed">
			<thead>
			<tr>
				<th>id</th>
				<th>name</th>
				<th>key</th>
				<th>description</th>
				<th>创建时间</th>
				<th>版本</th>
				<th>操作</th>
			</tr>
			</thead>
			<tbody>
			<#if models??&models?size gt 0>
				<#list models as model>
					<tr>
						<td>${model.id!''}</td>
						<td>${model.name!''}</td>
						<td>${model.key!''}</td>
						<td>${model.category!''}</td>
						<td>${model.createTime?string('yyyy-MM-dd HH:mm:ss')!''}</td>
						<td>${model.version!''}</td>
						<td>
							<a class="deploy option" >部署</a>
							<a class="option" href="${ctx}/themes/default/modeler/modeler.html?modelId=${model.id}" target="_blank">编辑</a>
						</td>
					</tr>
				</#list>
				<#else/>
					<tr>
						<td colspan="7"><label>没有查询到model<a href="${ctx}/modeler/create">去创建model</a> </label></td>
					</tr>
			</#if>
			</tbody>
			<tfoot>
			<tr>
				<td colspan="7">
					<nav aria-label="...">
						<ul class="pagination">
							<li class="disabled"><a href="#" aria-label="Previous"><span aria-hidden="true">«</span></a></li>
							<li class="active"><a href="#">1 <span class="sr-only">(current)</span></a></li>
							<li><a href="#">2</a></li>
							<li><a href="#">3</a></li>
							<li><a href="#">4</a></li>
							<li><a href="#">5</a></li>
							<li><a href="#" aria-label="Next"><span aria-hidden="true">»</span></a></li>
						</ul>
					</nav>
				</td>
			</tr>
			</tfoot>
		</table>
	</div>
</section>
<js>
	<script>
		$(".deploy").click(function (obj) {
			var id = $(this).parent().parent().find("td").eq(0).html();
			$.get("${ctx}/modeler/deploy",{modelId:id},
					function (data) {
						alert(data.message);
					}
			)
		})
	</script>
</js>
